import { cardDb } from './db.js';

// åˆå§‹åŒ–å¡ç‰‡é…ç½®æ•°æ®
function initializeCardConfigs() {
    try {
        console.log('ğŸ”„ å¼€å§‹åˆå§‹åŒ–å¡ç‰‡é…ç½®...');

        // æ£€æŸ¥æ˜¯å¦å·²æœ‰æ•°æ®
        const count = cardDb.prepare('SELECT COUNT(*) as count FROM card_configs').get();
        
        if (count.count > 0) {
            console.log('âœ“ å¡ç‰‡é…ç½®å·²å­˜åœ¨ï¼Œè·³è¿‡åˆå§‹åŒ–');
            return;
        }

        // Tutorial å¡ç‰‡åˆå§‹æ•°æ® - æ­£ç»æ•™ç¨‹
        const tutorialCardsSerious = [
            {
                title: "vscodeä¸­çš„c/c++ç¯å¢ƒé…ç½®",
                desc: "é’ˆå¯¹Windowsç«¯çš„C/C++ç¯å¢ƒé…ç½®ä»¥åŠCmakeå·¥å…·çš„ä½¿ç”¨",
                date: "2025-09-07",
                link: "/article?src=/articles/tutorials/vscode-cpp-setup.md",
                category: "æ­£ç»æ•™ç¨‹"
            },
            {
                title: "GitHub Pagesçš„æ„å»ºæ–¹æ³•",
                desc: "forkä¸€ä¸ªç°æˆçš„ä¸»é¡µæ¨¡æ¿ï¼Ÿæˆ–è€…è‡ªå·±ä»é›¶å¼€å§‹å†™ä¸€ä»½ä¸»é¡µæ–‡ä»¶ï¼Ÿæ€»ä¹‹å»ºä¸ªrepoå…ˆï¼",
                date: "2025-09-07",
                link: "/article?src=/articles/tutorials/github-pages.md",
                category: "æ­£ç»æ•™ç¨‹"
            },
            {
                title: "vscodeä¸­çš„pythonç¯å¢ƒé…ç½®",
                desc: "é’ˆå¯¹Windowsç«¯çš„pythonç¯å¢ƒé…ç½®ä»¥åŠè™šæ‹Ÿç¯å¢ƒã€anacondaå·¥å…·çš„å…¥é—¨ä½¿ç”¨",
                date: "2025-09-08",
                link: "/article?src=/articles/tutorials/vscode-python-setup.md",
                category: "æ­£ç»æ•™ç¨‹"
            },
            {
                title: "åœ¨å·²æœ‰Windowsç³»ç»Ÿçš„æœºå™¨ä¸Šå®‰è£…UbuntuåŒç³»ç»Ÿ",
                desc: "æ¶‰åŠç£ç›˜æ‰‹åŠ¨åˆ†åŒºï¼Œå¯åŠ¨Uç›˜çš„åˆ¶ä½œå’Œä½¿ç”¨ç­‰ï¼Œå¹¶æ¶µç›–å¯èƒ½é‡åˆ°çš„è¯¸å¤šç‰¹æ®Šæƒ…å†µ",
                date: "2024-09-20",
                link: "/article?src=/articles/tutorials/ubuntu-dual-boot.md",
                category: "æ­£ç»æ•™ç¨‹"
            },
            {
                title: "QQbotçš„æ­å»ºä¸ç®€å•çš„åŠŸèƒ½ç¼–å†™",
                desc: "é‡‡ç”¨napcatæ¡†æ¶ä½œä¸ºQQè¿è¡Œç«¯ï¼Œåº”ç”¨ç«¯æœ‰è¯¸å¤šï¼Œå…¶ä¸­ä¼šå¤¹å¸¦åŸç¥æœºå™¨äººYunzai-botåŠå…¶å„ç§åŠŸèƒ½å¼ºå¤§çš„æ’ä»¶åŠŸèƒ½",
                date: "æ–½å·¥ä¸­...",
                link: "/article?src=/articles/tutorials/qqbot.md",
                category: "æ­£ç»æ•™ç¨‹"
            },
            {
                title: "uni-appå¼€å‘å…¥é—¨",
                desc: "ä»é›¶å¼€å§‹å­¦ä¹ uni-appè·¨å¹³å°å¼€å‘ï¼ŒåŒ…æ‹¬ç¯å¢ƒæ­å»ºã€åŸºç¡€è¯­æ³•å’Œå¸¸ç”¨ç»„ä»¶ä½¿ç”¨",
                date: "æ–½å·¥ä¸­...",
                link: "/article?src=/articles/tutorials/uni-app-dev.md",
                category: "æ­£ç»æ•™ç¨‹"
            }
        ];

        // Tutorial å¡ç‰‡åˆå§‹æ•°æ® - ä¸æ­£ç»æ•™ç¨‹
        const tutorialCardsFun = [

            {
                title: "æ–‡æ˜6 MOD å¼€å‘æ•™ç¨‹",
                desc: "è¯¦ç»†ä»‹ç»å¦‚ä½•åˆ¶ä½œæ–‡æ˜6çš„å„ç±»MODï¼ŒåŒ…æ‹¬UIä¿®æ”¹ã€æ¸¸æˆæœºåˆ¶è°ƒæ•´ç­‰",
                date: "æ–½å·¥ä¸­...",
                link: "/article?src=/articles/tutorials/civ6-mod.md",
                category: "ä¸æ­£ç»æ•™ç¨‹"
            }
        ];

        // Project å¡ç‰‡åˆå§‹æ•°æ® - æˆ‘çš„é¡¹ç›®
        const projectCardsOwn = [
            {
                title: "æˆ‘çš„ä¸ªäººä¸»é¡µ",
                desc: "ä¹Ÿå°±æ˜¯ä½ ç°åœ¨çœ‹åˆ°çš„è¿™ä¸ªç½‘ç«™å•¦ï¼åŸºäºVue3å’ŒViteæ„å»ºï¼Œä½¿ç”¨äº†å¤šç§ç°ä»£å‰ç«¯æŠ€æœ¯å’Œå·¥å…·ï¼ŒåŒ…æ‹¬ç»„ä»¶åŒ–å¼€å‘ã€å“åº”å¼è®¾è®¡ã€è·¯ç”±ç®¡ç†ç­‰ã€‚ä¸è¿‡è¿™ä¸ªé¡¹ç›®æœ¬è´¨ä¸Šè¿˜æ˜¯æˆ‘ç”¨æ¥å­¦ä¹ å’Œå®è·µå‰ç«¯å¼€å‘æŠ€æœ¯çš„ä¸€ä¸ªç»ƒæ‰‹é¡¹ç›®ï¼Œä»…ä¾›å‚è€ƒå’Œå­¦ä¹ ä½¿ç”¨ï¼Œå½“ç„¶ä¸å«Œå¼ƒçš„è¯ä¹Ÿå¯ä»¥forkä¸€ä»½å½“æ¨¡æ¿ä½¿ï¼‰",
                date: "2025-12-18",
                link: "/article?src=/articles/projects/personal_pages.md",
                repoUrl: "https://github.com/kuiningzzzz/Personal_Pages",
                category: "æˆ‘çš„é¡¹ç›®"
            },
            {
                title: "Con-jugamos",
                desc: "ä¸€æ¬¾é¢å‘è¥¿ç­ç‰™è¯­å­¦ä¹ è€…çš„åŠ¨è¯å˜ä½å­¦ä¹ è½¯ä»¶ï¼Œè‡´åŠ›äºé€šè¿‡ç§‘å­¦çš„ç»ƒä¹ æ–¹æ³•å¸®åŠ©å­¦ä¹ è€…æŒæ¡è¥¿ç­ç‰™è¯­åŠ¨è¯å˜ä½è§„åˆ™ã€‚æœ¬é¡¹ç›®æ˜¯æˆ‘åœ¨åŒ—äº¬å¤§å­¦ã€Šæ™ºèƒ½åŒ–è½¯ä»¶ç³»ç»Ÿä¸å·¥ç¨‹ã€‹è¯¾ç¨‹çš„å¤§ä½œä¸šé¡¹ç›®ï¼Œåç»­å°†ä¸åŒ—äº¬å¤§å­¦å¤–å›½è¯­å­¦é™¢åˆä½œè¿›è¡ŒæŒç»­ç»´æŠ¤å’Œæ›´æ–°ã€‚",
                date: "2025-12-19",
                link: "/article?src=/articles/projects/con-jugamos.md",
                downloadUrl: "/source/Con-jugamos.apk",
                repoUrl: "https://github.com/kuiningzzzz/Spanish-Verb-Conjugation-Practicer",
                category: "æˆ‘çš„é¡¹ç›®"
            }
        ];

        // Project å¡ç‰‡åˆå§‹æ•°æ® - æ¨èè½¯ä»¶
        const projectCardsRecommend = [
            {
                title: "å½±æ¢­",
                desc: "ä¸€æ¬¾å®‰å“è®¾å¤‡çš„è™šæ‹Ÿå®šä½æ§åˆ¶è½¯ä»¶ã€‚å¼€å‘è€…çš„åˆè¡·æ˜¯æƒ³æä¾›å®‰å“è®¾å¤‡è½¯ä»¶å¼€å‘æ—¶å…³äºä½ç½®ä¿¡æ¯çš„è™šæ‹ŸæœåŠ¡ï¼Œæˆ–è€…åœ¨ç©ç±»ä¼¼ã€Šå®å¯æ¢¦ã€‹çš„æ¸¸æˆçš„æ—¶å€™æä¾›å¨±ä¹æ€§è´¨çš„è¾…åŠ©å·¥å…·ï¼Œè¯·å–„ç”¨æ…ç”¨ï¼å®‰è£…ä¹‹åï¼Œè¯·å°†æ‰‹æœºè®¾ç½®ä¸ºå¼€å‘è€…æ¨¡å¼ï¼ˆä¸åŒæ‰‹æœºå¯èƒ½æ–¹å¼ä¸ä¸€æ ·ï¼Œéœ€è¦è‡ªè¡Œæœç´¢æŸ¥æ‰¾è¿›å…¥æ–¹å¼ï¼Œæ¯”å¦‚æœ¬äººçš„OPPOæ‰‹æœºæ˜¯åœ¨è®¾ç½®ä¸­çš„è®¾å¤‡ä¿¡æ¯é‡Œè¿ç»­æŒ‰ç‰ˆæœ¬å·äº”æ¬¡ã€‚è¿›å…¥å¼€å‘è€…æ¨¡å¼ä¹‹åï¼Œå°±å¯ä»¥åœ¨æ‰‹æœºè®¾ç½®é‡Œæ‰¾åˆ°ã€å¼€å‘è€…é€‰é¡¹ã€‘ï¼Œåœ¨é‡Œé¢æ‰¾åˆ°ã€æ¨¡æ‹Ÿä½ç½®ä¿¡æ¯åº”ç”¨ã€‘ï¼Œå°†å…¶è®¾ç½®ä¸ºå½±æ¢­ï¼Œä¹‹åå³å¯æ­£å¸¸ä½¿ç”¨ã€‚ä½¿ç”¨æ—¶è¯·ä½¿ç”¨ç§»åŠ¨æ•°æ®ï¼Œå…³é—­WiFiï¼Œå¦åˆ™æœ‰å¯èƒ½å‡ºç°å®šä½å¤±æ•ˆçš„æƒ…å†µã€‚æ³¨ï¼šé™¤å½±æ¢­å¤–ï¼Œå¸¸è§çš„å®‰å“è™šæ‹Ÿå®šä½è½¯ä»¶è¿˜æœ‰Fake Locationï¼Œè¿™é‡Œä¸åšæ¨èçš„åŸå› æœ‰äºŒï¼šä¸€ï¼Œè™½ç„¶å®ƒåŠŸèƒ½æ¯”å½±æ¢­æ›´å¼ºå¤§ï¼ˆæ¯”å¦‚æŒ‡å®šè¡ŒåŠ¨è½¨è¿¹ä¹‹åè‡ªåŠ¨å¤šæ¬¡å¾ªç¯æ¨¡æ‹Ÿï¼‰ï¼Œä½†æ˜¯é«˜çº§åŠŸèƒ½çš„ä½¿ç”¨é—¨æ§›æ›´é«˜ï¼Œè¦è¿‡ä¸€ä»½æ¶‰åŠåˆ°å®‰å“APIåŸºç¡€ä»¥åŠå®‰å“å®šä½æœåŠ¡ç­‰çŸ¥è¯†çš„æµ‹è¯•é¢˜ï¼Œå¹¶ä¸”è¿˜è¦ä»˜è´¹ï¼ˆ9å…ƒ/æœˆï¼‰ï¼›äºŒï¼Œç›®å‰Fake Locationå·²è¢«ã€æ‹›å®‰ã€‘ï¼Œåœ¨ä½¿ç”¨æ—¶éœ€è¦å¼ºåˆ¶ç”¨æˆ·è®¾ç½®ã€æ£€æŸ¥ä½¿ç”¨çŠ¶å†µç¯å¢ƒã€‘ï¼Œé˜²æ­¢ç”¨æˆ·è¿›è¡Œè¯¸å¦‚å®šä½ç­¾åˆ°ç­‰ä¸å½“è¡Œä¸ºï¼Œè¦ç»•è¿‡è¿™ä¸ªè®¾ç½®è¿˜éœ€è¦æ›´å¤æ‚çš„æ“ä½œï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä¸å†èµ˜è¿°ï¼Œä¸å¦‚ç›´æ¥ç”¨æ›´å¼€æ”¾å¼€æºçš„å½±æ¢­ã€‚",
                date: "2025-12-18",
                repoUrl: "https://github.com/ZCShou/GoGoGo",
                category: "æ¨èè½¯ä»¶"
            },
            {
                title: "Ncm_to_mp3",
                desc: "ç½‘æ˜“äº‘éŸ³ä¹çš„æ­Œæ›²ä¸‹è½½åï¼ˆå°¤å…¶æ˜¯ä¼šå‘˜æ­Œæ›²ï¼‰ï¼Œæ˜¯ä»¥åç¼€åä¸º.ncmçš„æ ¼å¼è¿›è¡Œæœ¬åœ°å­˜å‚¨çš„ï¼Œè¿™æ˜¯ä¸€ç§ç½‘æ˜“äº‘éŸ³ä¹çš„ç‰¹æ®ŠåŠ å¯†æ–¹å¼ï¼Œç›®çš„æ˜¯é˜²æ­¢æ­Œæ›²æ³„éœ²å¼•å‘ç‰ˆæƒé—®é¢˜ã€‚ä½†æ˜¯è¿™å¯¹äºç”¨æˆ·æ¥è¯´æ˜¾ç„¶ä¸æ–¹ä¾¿ï¼Œç”¨æˆ·å¹¶ä¸æ€»æ˜¯ä½¿ç”¨ncmçš„æ’­æ”¾å™¨ï¼ˆæ¯”å¦‚ç½‘æ˜“äº‘æœ¬ä½“ï¼‰ï¼Œæ›´å¤šçš„æƒ…å†µä¸‹ä¸€èˆ¬ä½¿ç”¨MP3æ ¼å¼çš„æ–‡ä»¶ï¼Œæ— è®ºæ˜¯æ’å…¥åˆ°PPTè¿˜æ˜¯è½¬å‘æ”¶è—éšèº«å¬éƒ½æ›´æ–¹ä¾¿ï¼Œäºæ˜¯è¿™ä¸ªç¨‹åºå°±å¯ä»¥å¸®åŠ©ä½ å¿«æ·è§£ç ncmåŠ å¯†å¹¶å°†å…¶è½¬åŒ–ä¸ºmp3ã€‚è¯·ä¸è¦ä½¿ç”¨è¿™ç§ç¨‹åºè¿›è¡Œç‰Ÿåˆ©ï¼Œå¼•å‘ç‰ˆæƒä¸éšç§é—®é¢˜åæœè‡ªè´Ÿï¼ä½¿ç”¨æ–¹æ³•æ˜¯ï¼šå°†.ncmæ–‡ä»¶æ‹–åŠ¨åˆ°è¿™ä¸ª.exeæ–‡ä»¶ä¸Šå³å¯åœ¨åŸæ–‡ä»¶ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªä¸.ncmæ–‡ä»¶åŒåçš„.mp3æ–‡ä»¶ã€‚",
                date: "2025-12-18",
                downloadUrl: "/source/Ncm_to_mp3.exe",
                category: "æ¨èè½¯ä»¶"
            },
            {
                title: "Geogebra",
                desc: "ä»æˆ‘é«˜ä¸­æ—¶æœŸå¼€å§‹å°±ä¸€ç›´åœ¨ç”¨çš„å¼ºå¤§çš„å‡½æ•°åˆ†æè½¯ä»¶ï¼Œå¯¹äºé«˜ä¸­æœ€éš¾çš„ä¸¤éƒ¨åˆ†ï¼šå‡½æ•°å¯¼æ•°ä¸è§£æå‡ ä½•ï¼Œè¿™ä¸ªè½¯ä»¶éƒ½å¯ä»¥é€šè¿‡ç»˜å›¾è®¡ç®—çš„æ–¹å¼ä¸€ç›®äº†ç„¶çš„çœ‹åˆ°è§„å¾‹ã€‚å½“ç„¶è½¯ä»¶åŠŸèƒ½éå¸¸å¼ºå¤§ä¸æ­¢äºæ­¤ï¼Œå¯ä»¥è¿›è¡Œå‡ ä½•ä½œå›¾ã€ä»£æ•°è®¡ç®—ã€å¾®ç§¯åˆ†è¿ç®—ã€ç»Ÿè®¡åˆ†æç­‰å¤šç§æ•°å­¦ç›¸å…³çš„æ“ä½œï¼Œé€‚åˆå„ä¸ªé˜¶æ®µçš„æ•°å­¦å­¦ä¹ ä¸ç ”ç©¶ä½¿ç”¨ã€‚",
                date: "2025-12-18",
                repoUrl: "https://www.geogebra.org/",
                category: "æ¨èè½¯ä»¶"
            },
            {
                title: "bandizip",
                desc: "å‹ç¼©ä¸è§£å‹å·²ç»æ˜¯è€ç”Ÿå¸¸è°ˆçš„è¯é¢˜äº†ï¼Œä½†æ˜¯å¯èƒ½æœ‰åŒå­¦è¿˜æ˜¯åœ¨æ–‡ä»¶è§£å‹æ–¹é¢æœ‰å›°éš¾ï¼Œä¸€ä¸ªä¸€ç«™å¼ä¸‡èƒ½è§£å‹å·¥å…·åœ¨æ­¤æ—¶å°±ä¼šéå¸¸å¥½ç”¨ã€‚ç®¡ä½ æ˜¯zipã€tarã€7zè¿˜æ˜¯ä»€ä¹ˆï¼Œä¸€ä¸ªè½¯ä»¶å…¨éƒ¨æå®šã€‚å…è´¹ç‰ˆåŸºæœ¬å°±å¯ä»¥ä½¿ç”¨å…¨éƒ¨åŠŸèƒ½äº†ï¼Œå¦‚æœæƒ³è¦èµåŠ©ä½œè€…ä¹°ä¸ªä»˜è´¹ç‰ˆçš„è¯ï¼Œä¼˜ç‚¹ä¸»è¦å°±æ˜¯æ²¡å¹¿å‘Šï¼ˆå…è´¹ç‰ˆæ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™éƒ½ä¼šæœ‰å³ä¸‹è§’å¼¹çª—å¹¿å‘Šï¼‰ï¼Œè¿™ä¸ªé—®é¢˜åœ¨å…è´¹ç‰ˆå…¶å®ä¹Ÿå®Œå…¨å¯ä»¥å®¹å¿ã€‚",
                date: "2025-12-18",
                repoUrl: "https://www.bandisoft.com/bandizip/",
                category: "æ¨èè½¯ä»¶"
            }
        ];

        // æ’å…¥ Tutorial å¡ç‰‡
        const insertCard = cardDb.prepare('INSERT INTO card_configs (type, category, data, display_order) VALUES (?, ?, ?, ?)');
        
        let order = 0;
        tutorialCardsSerious.forEach((card) => {
            insertCard.run('tutorials', card.category, JSON.stringify(card), order++);
        });
        tutorialCardsFun.forEach((card) => {
            insertCard.run('tutorials', card.category, JSON.stringify(card), order++);
        });
        console.log(`âœ“ å·²åˆå§‹åŒ– ${tutorialCardsSerious.length + tutorialCardsFun.length} ä¸ª Tutorial å¡ç‰‡`);

        // æ’å…¥ Project å¡ç‰‡
        order = 0;
        projectCardsOwn.forEach((card) => {
            insertCard.run('projects', card.category, JSON.stringify(card), order++);
        });
        projectCardsRecommend.forEach((card) => {
            insertCard.run('projects', card.category, JSON.stringify(card), order++);
        });
        console.log(`âœ“ å·²åˆå§‹åŒ– ${projectCardsOwn.length + projectCardsRecommend.length} ä¸ª Project å¡ç‰‡`);

        console.log('âœ… å¡ç‰‡é…ç½®åˆå§‹åŒ–å®Œæˆ');
    } catch (error) {
        console.error('âŒ å¡ç‰‡é…ç½®åˆå§‹åŒ–å¤±è´¥:', error);
        throw error;
    }
}

// æ‰§è¡Œåˆå§‹åŒ–
initializeCardConfigs();

export default initializeCardConfigs;
